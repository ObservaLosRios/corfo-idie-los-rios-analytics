<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cantidad de recursos CORFO asignados por a침o en I+D+i+e</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header Principal -->
    <header class="main-header">
        <div class="logos-container">
            <img src="thumbnail_Logo observa.png" alt="Universidad Austral de Chile - Centro de Estudios Regionales" class="header-logo-left">
            <img src="thumbnail_images.png" alt="Logo Regi칩n" class="header-logo">
        </div>
        <div class="header-content">
            <h1 class="main-title" id="main-title">Cantidad de recursos CORFO asignado por a침o en I+D+i+e en la Regi칩n de Los R칤os</h1>
            <p class="subtitle" id="subtitle">Semilla Inicia, Expande, Innova Regi칩n, Viraliza, etc. (Comite m치s nacional). Porcentaje de la inversi칩n respecto del PIB regional.</p>
        </div>
    </header>
    
    <!-- Navegaci칩n -->
    <nav class="nav-container">
        <div class="nav-links" id="nav-links">
            <span class="nav-link active" data-section="financiamiento-bar">Financiamiento acumulado</span>
            <span class="nav-link" data-section="financiamiento-line">Evoluci칩n del financiamiento</span>
            <span class="nav-link" data-section="proyectos-line">Proyectos adjudicados</span>
        </div>
    </nav>
    
    <!-- Container Principal -->
    <div class="container">
        <!-- Visualizaciones est치ticas -->
        <section id="financiamiento-bar" class="section">
            <h2 class="section-title">Financiamiento Innova por regi칩n (MM CLP)</h2>
            <p class="section-description">Comparativa de desembolsos acumulados destacando a la Regi칩n de Los R칤os.</p>
            <div class="chart-card" data-theme="light">
                <div class="chart-controls">
                    <button id="financiamiento-bar-toggle" class="theme-toggle" aria-label="Cambiar tema" aria-pressed="false">游깿</button>
                </div>
                <div id="financiamiento-bar-chart" class="chart-container" role="img" aria-label="Gr치fico de barras del financiamiento Innova por regi칩n"></div>
            </div>
        </section>

        <section id="financiamiento-line" class="section">
            <h2 class="section-title">Evoluci칩n del financiamiento Innova (MM CLP)</h2>
            <p class="section-description">Serie anual para las regiones con mayor financiamiento, resaltando el comportamiento de Los R칤os.</p>
            <div class="chart-card" data-theme="light">
                <div class="chart-controls">
                    <button id="financiamiento-line-toggle" class="theme-toggle" aria-label="Cambiar tema" aria-pressed="false">游깿</button>
                </div>
                <div id="financiamiento-line-chart" class="chart-container" role="img" aria-label="Gr치fico de l칤neas del financiamiento anual"></div>
            </div>
        </section>

        <section id="proyectos-line" class="section">
            <h2 class="section-title">Proyectos Innova adjudicados por a침o</h2>
            <p class="section-description">Conteo anual de proyectos para las regiones l칤deres, con 칠nfasis en Los R칤os.</p>
            <div class="chart-card" data-theme="light">
                <div class="chart-controls">
                    <button id="proyectos-line-toggle" class="theme-toggle" aria-label="Cambiar tema" aria-pressed="false">游깿</button>
                </div>
                <div id="proyectos-line-chart" class="chart-container" role="img" aria-label="Gr치fico de l칤neas del n칰mero de proyectos"></div>
            </div>
        </section>

        <!-- Secciones din치micas se generar치n aqu칤 -->
        <div id="dynamic-sections"></div>
    </div>
    
    <!-- Footer -->
    <footer class="footer">
        <p class="footer-text" id="footer-text">
            Desarrollado por equipo CER UACh - Ciencia de datos<br>
            Universidad Austral de Chile - Centro de Estudios Regionales
        </p>
        <img src="thumbnail_logo cer.png" alt="Universidad Austral de Chile - Centro de Estudios Regionales" class="footer-logo">
    </footer>

    <!-- Modal de configuraci칩n -->
    <div id="configModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 style="color: #1B4F72; margin-bottom: 20px;">Configuraci칩n de la Plantilla</h2>
            
            <div class="config-section">
                <h3>Informaci칩n General</h3>
                <label for="title-input">T칤tulo Principal:</label>
                <input type="text" id="title-input" placeholder="Ej: An치lisis de Ventas 2024">
                
                <label for="subtitle-input">Subt칤tulo:</label>
                <input type="text" id="subtitle-input" placeholder="Ej: Reporte Trimestral de Resultados">
                
                <label for="footer-input">Texto del Footer:</label>
                <textarea id="footer-input" placeholder="Ej: An치lisis desarrollado por...&#10;Empresa - Departamento"></textarea>
            </div>
            
            <div class="config-section">
                <h3>Datos JSON</h3>
                <label for="data-input">Datos (formato JSON):</label>
                <textarea id="data-input" placeholder='Ejemplo:
{
  "charts": {
    "ventas": {
      "title": "Ventas por Mes",
      "type": "bar",
      "data": [{"mes": "Enero", "valor": 1000}, {"mes": "Febrero", "valor": 1200}]
    },
    "usuarios": {
      "title": "Usuarios Activos",
      "type": "line", 
      "data": [{"fecha": "2024-01", "cantidad": 500}, {"fecha": "2024-02", "cantidad": 650}]
    }
  }
}'></textarea>
            </div>
            
            <div id="status-message"></div>
            
            <button class="btn" onclick="applyConfiguration()">Aplicar Configuraci칩n</button>
            <button class="btn" onclick="loadExampleData()" style="background: #6c757d; margin-left: 10px;">Cargar Datos de Ejemplo</button>
        </div>
    </div>

    <!-- Tooltip global -->
    <div class="tooltip" id="tooltip"></div>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="interactive.js"></script>
</body>
</html>
